import{u as N,r as n,a as e,F as b,j as t,d as w,L as o,Q as f}from"./index.5a85093a.js";import{c as x,a as m,u as y,o as k}from"./array.a2581f0b.js";import{T as h}from"./Textinput.a54277f9.js";import{a as S}from"./axios.74c9240f.js";const C="/assets/constroImg.3f7d2e86.png",P=x({email:m().email("Invalid email").required("Email is Required"),password:m().required("Password is Required")}).required(),E=()=>{const r=N(),[l,u]=n.exports.useState(!1),p=()=>{u(!l)},{register:c,formState:{errors:i},handleSubmit:I}=y({resolver:k(P),mode:"all"}),[s,d]=n.exports.useState({email:"",password:"",role:""}),g=()=>{s&&S.post("https://constrobackend17-4.onrender.com/api/user_authenticate",s).then(a=>{const v=a.data;console.log(46,a.data.user.role),localStorage.setItem("user",JSON.stringify(v)),a.data.user.role=="contractor"?r("/ContractorDash"):a.data.user.role=="client"?r("/clientDash"):a.data.user.role=="individual"?r("/indvidualDash"):a.data.user.role=="admin"&&r("/AdminDash")}).catch(a=>{console.error("API Error:",a),f.error("Invalid credentials",{position:"top-right"})})};return e(b,{children:e("div",{className:"container",children:e("div",{className:"row justify-content-center  ",children:e("div",{className:"col-sm-10 my-16 my-sm-0",children:e("div",{className:"card o-hidden border-0 shadow-lg my-2",children:e("div",{className:"card-body p-0",children:t("div",{className:"row",children:[e("div",{className:"col-lg-6 hidden md:block",children:e("img",{src:C,style:{width:"100%",height:"auto"}})}),e("div",{className:"col-lg-6 ",children:t("div",{className:"p-4 ",children:[e("div",{className:"text-center mb-6 block",children:e("div",{className:"flex justify-center",children:e("img",{className:"w-[240px]",src:w,alt:""})})}),t("form",{className:"space-y-3 m-4 ",children:[e(h,{name:"email",label:"email",type:"email",placeholder:" Enter your email",register:c,error:i.email,className:"h-[48px]",value:s.email,onChange:a=>{d({...s,email:a.target.value})}}),e(h,{name:"password",label:"password",type:l?"text":"password",placeholder:" Enter your password",register:c,error:i.password,className:"h-[48px]",value:s.password,onChange:a=>{d({...s,password:a.target.value})}}),e("div",{className:"form-group",children:t("div",{className:"custom-control custom-checkbox small py-2",children:[e("input",{type:"checkbox",className:"custom-control-input bg-[#00adee] hover:bg-[#6fcaeb]",id:"customCheck",onClick:p}),e("label",{className:"custom-control-label ml-2",htmlFor:"customCheck",children:"Show Password"})]})}),e(o,{className:"btn bg-[#00adee] hover:bg-[#6fcaeb] text-white w-full mt-3",onClick:a=>g(),type:"submit",children:"Login"}),e("hr",{className:"m-3"})]}),e("div",{className:"text-center",children:e(o,{to:"/forgot-password",className:"text-sm hover:underline hover:text-blue-600",children:"Forgot Password?"})}),e("div",{className:"text-center mb-4",children:e(o,{to:"/register",children:e("span",{className:"small hover:underline hover:text-blue-600",children:"Create an Account!"})})})]})})]})})})})})})})};export{E as default};
