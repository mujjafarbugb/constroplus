import{r as l,j as t,a as s,L as n,F as k}from"./index.5a85093a.js";import{H as E}from"./HomeBredCurbs.7c403a2d.js";import{I as j}from"./index.7a426a8b.js";import{M as T}from"./index.91645ed2.js";import{a as r}from"./axios.74c9240f.js";import"./index.esm.27038d76.js";import"./iconBase.ebd08f81.js";const q=()=>{l.exports.useState([]);const[p,B]=l.exports.useState(""),[x,h]=l.exports.useState([]),[u,g]=l.exports.useState([]),[c,f]=l.exports.useState([]),b=localStorage.getItem("user"),v=JSON.parse(b);console.log(31,v.user._id);const[A,N]=l.exports.useState([]),[y,S]=l.exports.useState([]),_=localStorage.getItem("profile"),C=JSON.parse(_),[H,R]=l.exports.useState();l.exports.useState(),l.exports.useState(!1);const[d,O]=l.exports.useState([]),[i,V]=l.exports.useState([]),w=()=>{window.history.back()};l.exports.useEffect(()=>{r.get(`https://constrobackend17-4.onrender.com/api/get_RegisteredClients/${C._id}`).then(e=>{console.log(23,e.data.Result),R(e.data.Result);const o=e.data.Result.map(I=>I.receiverId._id);h(o),m(o)}).catch(e=>{console.log(e)}),r.get("https://constrobackend17-4.onrender.com/api/get_all_expertise").then(e=>{f(e.data.Result)}).catch(e=>{console.log(e)}),r.get("https://constrobackend17-4.onrender.com/api/getAll_Cities_ddl").then(e=>{console.log(e.data.Result),S(e.data.Result)}).catch(e=>{console.log(e)})},[]);const D=e=>{const a=e.target.value,o=e.target.name;N(a),console.log("Selected Cities:",o),setData({...data,[o]:a})},m=e=>{console.log({receiver:e||x}),r.post(`
        https://constrobackend17-4.onrender.com/api/get_provider_tenders?city=${d}&expertise=${i},
        obj`).then(o=>{console.log("UserTender",o.data),g(o.data.Result)}).catch(o=>{console.log(o)})};return l.exports.useEffect(()=>{m()},[d,i]),t("div",{children:[s(E,{title:"All EOI Page "}),t("div",{className:"flex items-center text-slate-400 ",children:[t(n,{to:"",className:"flex items-center text-sm hover:underline hover:font-semibold hover:text-blue-400 cursor-pointer gap-1",onClick:w,children:[s(j,{className:"text-xl font-semibold"}),"Back"]}),s("span",{className:"mx-2",children:" / "}),t(n,{to:"/ContractorDash",className:"flex items-center text-sm  hover:underline hover:font-semibold hover:text-blue-400 cursor-pointer gap-1",children:[s(T,{className:"text-lg font-semibold"}),"Home"]})]}),t("div",{className:" mt-3 row ",children:[s("div",{className:"col-lg-6 mb-3 mb-lg-0",children:t("select",{class:"form-select shadow-md p-3","aria-label":"Default select example",name:"scope",value:p,onChange:e=>console.log(133,e.target.value),children:[s("option",{selected:!0,children:"All Expertises"}),c==null?void 0:c.map(e=>s("option",{value:e._id,className:"text-sm",children:e.expertise},e._id))]})}),s("div",{className:"col-lg-6",children:t("select",{class:"form-select shadow-md p-3","aria-label":"Default select example",name:"city",value:A,onChange:e=>D(e),children:[s("option",{selected:!0,children:"All Cities"}),y.map(e=>s("option",{value:e._id,className:"text-sm",children:e.city},e._id))]})})]}),s("div",{className:"bg-white rounded-lg row mt-3",children:u.map(e=>s(k,{children:t("div",{className:"col-lg-6 shadow-sm mt-4 mb-2 mb-lg-0",children:[s("table",{className:"table-auto",children:t("tbody",{children:[t("tr",{children:[t("td",{className:"px-2 px-md-4 py-2 font-semibold",children:["Developer"," "]}),t("td",{className:"px-2 px-md-4 py-2 font-normal",children:[":\xA0\xA0\xA0 ",e.developer.firmName]})]}),t("tr",{children:[t("td",{className:"px-2 px-md-4 py-2 font-semibold",children:["Scope"," "]}),t("td",{className:"px-2 px-md-4 py-2  font-normal",children:[":\xA0\xA0\xA0",e.scope.expertise]})]}),t("tr",{children:[s("td",{className:"px-2 px-md-4 py-2 font-semibold",children:"Approximate EOI Value"}),t("td",{className:"px-2 px-md-4 py-2 font-normal",children:[":\xA0\xA0\xA0 \u20B9 ",e.maxContractValue]})]}),t("tr",{children:[s("td",{className:"px-2 px-md-4 py-2 font-semibold",children:"Last Date To Apply"}),t("td",{className:"px-2 px-md-4 py-2 font-normal",children:[":\xA0\xA0\xA0 ",e.lastDate]})]})]})}),s("hr",{className:"text-slate-400 m-3 "}),s("div",{className:"flex justify-end  ",children:s(n,{to:"/eoiViewDetails",className:"bg-[#00adee] hover:bg-[#6fcaeb] text-white font-bold px-3 py-2 rounded flex items-center mb-2 md:mb-0 md:mr-2 md:mt-0",children:"View Profile"})})]})}))})]})};export{q as default};
