import{u as D,r as a,j as o,a as t,L as i,F as E}from"./index.5a85093a.js";import{H as w}from"./HomeBredCurbs.f5cc8246.js";import{I as B}from"./index.7a426a8b.js";import{M as O}from"./index.91645ed2.js";import{B as $}from"./index.e2082948.js";import{a as l}from"./axios.74c9240f.js";import"./index.esm.27038d76.js";import"./iconBase.ebd08f81.js";const M=()=>{D();const[R,x]=a.exports.useState(),[d,m]=a.exports.useState(!0),p=e=>{l.get(`https://constrobackend17-4.onrender.com/api/get_all_tenders/${e}`).then(r=>{console.log(r.data.Result),x(r.data.Result),h(e,r.data.Result)}).catch(r=>{console.log(r)})},h=(e,r)=>{r.isLive=!0,console.log("update EOI :",r),l.put(`https://constrobackend17-4.onrender.com/api/float_tender/${e}`,r).then(s=>{console.log(s.data.Result),m(!d)}).catch(s=>{console.log(s)})},u=()=>{window.history.back()},[f,b]=a.exports.useState([]),g=localStorage.getItem("profile"),c=JSON.parse(g);a.exports.useEffect(()=>{l.get(`https://constrobackend17-4.onrender.com/api/get_draft_tenders/${c==null?void 0:c._id}`).then(e=>{console.log(e.data.Result),b(e.data.Result)}).catch(e=>{console.log(e)})},[d]);function y(e){return typeof e!="number"||isNaN(e)?"Invalid Price":e.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}function N(e){const r=new Date(e),s=r.getDate(),n=r.getMonth()+1,v=r.getFullYear(),I=s<10?`0${s}`:s,k=n<10?`0${n}`:n;return`${I}-${k}-${v}`}return o("div",{children:[t(w,{title:"Draft EOI "}),o("div",{className:"flex items-center text-slate-400 ",children:[o(i,{to:"",className:"flex items-center text-sm hover:underline hover:font-semibold hover:text-blue-400 cursor-pointer gap-1",onClick:u,children:[t(B,{className:"text-xl font-semibold"}),"Back"]}),t("span",{className:"mx-2",children:" / "}),o(i,{to:"/dashboard",className:"flex items-center text-sm  hover:underline hover:font-semibold hover:text-blue-400 cursor-pointer gap-1",children:[t(O,{className:"text-lg font-semibold"}),"Home"]})]}),t("div",{class:"overflow-x-auto mt-3",children:o("table",{class:"table-auto w-full shadow-sm rounded-md",children:[t("thead",{class:"border border-collapse  text-white bg-[#00adee]",children:o("tr",{className:" rounded-md",children:[t("th",{class:"px-4 py-3 text-center border",children:"Eoi NO "}),t("th",{class:"px-4 py-3 text-center border",children:"Project "}),t("th",{class:"px-4 py-3 text-center border",children:"Building"}),t("th",{class:"px-4 py-3 text-center border",children:"Scope"}),t("th",{class:"px-4 py-3 text-center border",children:"Approximate EOI Value"}),t("th",{class:"px-4 py-2 text-center border",children:"Last Day Of Application"}),t("th",{class:"px-4 py-2 text-center border",children:"EOI Details"})]})}),t("tbody",{children:f.map((e,r)=>t(E,{children:o("tr",{className:"hover:bg-[#f8f8f8] shadow-sm",children:[t("td",{class:"px-4 py-2 text-center text-sm text-slate-500",children:e.eoiNo}),t("td",{class:"px-4 py-2 text-center text-sm text-slate-500",children:e.projectName}),t("td",{class:"px-4 py-2 text-center text-sm text-slate-500",children:e.building}),t("td",{class:"px-4 py-2 text-center text-sm text-slate-500",children:e.scopeName}),o("td",{class:"px-4 py-2 text-center text-sm text-slate-500",children:["\u20B9 ",y(e.maxContractValue)]}),t("td",{class:"px-4 py-2 text-center text-sm text-slate-500",children:N(e.lastDate)}),t("td",{className:"px-4 py-2 text-center flex justify-center text-sm text-slate-500",children:t("div",{onClick:s=>p(e._id),className:"cursor-pointer hover:text-[#00adee]",children:t($,{className:"text-3xl"})})})]})}))})]})})]})};export{M as default};
