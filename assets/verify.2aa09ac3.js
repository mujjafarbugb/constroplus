import{u as v,b as u,r as a,j as l,a as e,f as P,L as N}from"./index.5a85093a.js";import{T}from"./Textinput.a54277f9.js";import{c as x,a as c,u as O,o as y}from"./array.a2581f0b.js";x({email:c().email("Invalid email").required("Email is Required"),password:c().required("Password is Required")}).required();const k=x({otp:c().required("OTP is Required").test("is-blank","OTP is Required",function(r){return r.trim()!==""}).length(6,"OTP must be exactly 6 characters").matches(/^[0-9]+$/,"OTP must only contain numbers")}).required(),q=r=>{v();const{id:m}=u();console.log(m);const[n,R]=a.exports.useState(""),[s,h]=a.exports.useState(120),[d,p]=a.exports.useState(!0),[i,f]=a.exports.useState({enteredOTP:"",mobileNumber:m});console.log(i.email);const{register:b,formState:{errors:o},handleSubmit:C}=O({resolver:y(k)});a.exports.useEffect(()=>{const t=setInterval(g,1e3);return()=>{clearInterval(t)}},[d,s]);const g=()=>{d&&s>0?h(t=>t-1):p(!1)};return l("form",{className:"space-y-4 ",children:[e(T,{name:"otp",label:"Phone OTP",type:"text",placeholder:"Enter OTP",register:b,error:o.otp&&o.otp.message||o.otp&&"OTP is Required",className:"h-[48px]",value:i.enteredOTP,onChange:t=>f({...i,enteredOTP:t.target.value})}),e("button",{className:"btn btn-primary block w-full text-center",onClick:t=>sendMobOtp(t),disabled:!s,children:"Verify OTP"}),s>0&&l("div",{className:"text-center text-gray-500",children:["Time remaining: ",Math.floor(s/60),":",s%60," minutes"]}),n&&e("div",{className:`font-normal text-base text-center px-2 py-3 mb-4 mt-10 ${n.includes("Invalid OTP")||n.includes("OTP has expired")?"text-red-500 bg-slate-100 dark:bg-slate-600":"text-green-500 bg-green-100 dark:bg-green-600"} rounded`,children:e("p",{children:n})}),e("div",{className:"md:max-w-[345px] mx-auto font-normal text-center text-slate-500 dark:text-slate-400 2xl:mt-12 mt-8 uppercase text-sm",children:e("button",{className:"text-slate-900 dark-text-white font-medium hover:underline",onClick:t=>sendMobOtp(t),children:"\xA0Resend OTP"})})]})},w="/assets/logo1.54b3545f.jpeg",I=()=>{const{email:r}=u();return P(),console.log(r),e("div",{className:"loginwrapper ",children:e("div",{className:"lg-inner-column",children:e("div",{className:"right-column relative",children:l("div",{className:"inner-content h-full flex flex-col bg-white",children:[l("div",{className:"auth-box2 flex flex-col justify-center h-full",children:[e("div",{className:"mobile-logo text-center mb-3  block",children:e(N,{to:"",children:e("img",{src:w,alt:"",className:"mx-auto",style:{height:"4rem"}})})}),l("div",{className:"text-center 2xl:mb-6 ",children:[e("h4",{className:"font-medium mb-2",children:"Verification"}),e("div",{className:"text-slate-500 dark:text-slate-400 text-base",children:"Verify Your Account with ConstroPlus."})]}),e("div",{className:"font-normal text-sm text-slate-500 text-center bg-slate-100 rounded py-2 mb-3 mt-3",children:"Please Enter the OTP provided on your Phone number for verification !"}),e(q,{email:r})]}),e("div",{className:"auth-footer text-center ",children:"Copyright 2024, ConstroPlus All Rights Reserved."})]})})})})};export{I as default};
