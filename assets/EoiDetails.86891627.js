import{b as g,r as n,j as s,a as t,F as d,L as _,Q as I}from"./index.5a85093a.js";import{H as v}from"./HomeBredCurbs.7c403a2d.js";import{a}from"./axios.74c9240f.js";import"./index.esm.27038d76.js";const A=()=>{const{id:i}=g(),[e,m]=n.exports.useState(),[h,f]=n.exports.useState(!1),[x,b]=n.exports.useState(!1),y=localStorage.getItem("profile"),c=JSON.parse(y);n.exports.useEffect(()=>{a.get(`https://constrobackend17-4.onrender.com/api/get_all_tenders/${i}`).then(l=>{console.log(100,l.data.Result);const o=l.data.Result;m(o);const r=c.preferredCities.some(u=>u.cityId===o.cityId);console.log(23,r),f(r),p(c._id,o._id)}).catch(l=>{console.log(l)})},[i]);const N=()=>{const l={tenderId:e._id,receiverId:e.developer,providerId:c._id};console.log(36,l),a.post("https://constrobackend17-4.onrender.com/api/post_tender_application",l).then(o=>{I.success(o.data.message),p(c._id,e._id)}).catch(o=>{console.log(o)})},p=(l,o)=>{a.get(`https://constrobackend17-4.onrender.com/api/check_provider_application/${l}/${o}`).then(r=>{console.log(52,r),b(r.data.Result)}).catch(r=>{console.log(r)})};return s("div",{children:[t(v,{title:"EOI Details"}),s("div",{className:"shadow-md p-3",children:[t("table",{className:"table-auto ",children:s("tbody",{children:[s("tr",{children:[t("td",{className:"px-4 py-2 font-semibold",children:"Developer : "}),t("td",{className:"px-4 py-2 font-normal",children:e==null?void 0:e.developerName})]}),s("tr",{children:[t("td",{className:"px-4 py-2 font-semibold",children:"Project : "}),t("td",{className:"px-4 py-2 font-normal",children:e==null?void 0:e.projectId.projectName})]}),s("tr",{children:[t("td",{className:"px-4 py-2 font-semibold",children:"Building : "}),t("td",{className:"px-4 py-2 font-normal",children:e==null?void 0:e.building})]}),s("tr",{children:[t("td",{className:"px-4 py-2 font-semibold",children:"Location : "}),t("td",{className:"px-4 py-2 font-normal",children:e==null?void 0:e.cityName})]}),s("tr",{children:[t("td",{className:"px-4 py-2 font-semibold",children:"Scope : "}),t("td",{className:"px-4 py-2 font-normal",children:e==null?void 0:e.scopeName})]}),s("tr",{children:[t("td",{className:"px-4 py-2 font-semibold",children:"Approx EOI Value : "}),s("td",{className:"px-4 py-2 font-normal",children:["\u20B9 ",e==null?void 0:e.maxContractValue]})]}),s("tr",{children:[s("td",{className:"px-4 py-2 font-semibold",children:["Probable Start Date :"," "]}),t("td",{className:"px-4 py-2 font-normal",children:e==null?void 0:e.startDate})]}),s("tr",{children:[t("td",{className:"px-4 py-2 font-semibold",children:"Last Date to Apply : "}),t("td",{className:"px-4 py-2 font-normal",children:e==null?void 0:e.lastDate})]})]})}),t("hr",{className:"text-slate-400 m-3"}),x?t(d,{children:"Applied"}):t(d,{children:h&&s(d,{children:[t("div",{className:"flex ",children:t(_,{to:"",className:"bg-[#00adee] hover:bg-[#6fcaeb] text-white font-bold px-4 py-2 mx-3 rounded flex items-center mb-2 md:mb-0 md:mr-2 md:mt-0",onClick:l=>N(),children:"Apply"})})," "]})})]})]})};export{A as default};
