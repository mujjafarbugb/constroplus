import{r as a,j as s,a as e,L as g,F as u,Q as k}from"./index.5a85093a.js";import{H}from"./HomeBredCurbs.d78b2916.js";import{P as L}from"./index.8ede2675.js";import{h as T}from"./house.9786a1f6.js";import{I as z,a as V,b as G}from"./index.7a426a8b.js";import{M as $}from"./index.91645ed2.js";import{a as m}from"./axios.74c9240f.js";import{G as E}from"./iconBase.ebd08f81.js";import"./index.esm.27038d76.js";function J(c){return E({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(c)}const re=()=>{a.exports.useState("Cancel"),a.exports.useState("bg-black-300");const[c,R]=a.exports.useState([]),[_,S]=a.exports.useState([]),[p,b]=a.exports.useState(!1),I=localStorage.getItem("profile"),n=JSON.parse(I),[v,A]=a.exports.useState(null),[x,P]=a.exports.useState(!1),[l,j]=a.exports.useState(1),[h]=a.exports.useState(5);console.log(17,n);const N=Math.ceil(c.length/h),f=t=>j(t),w=l*h,q=w-h;c.slice(q,w),a.exports.useEffect(()=>{m.get("https://constrobackend17-4.onrender.com/api/get_All_Providers?page=1&limit=10").then(t=>{console.log(t.data.Result);let r=[...t.data.Result];v==="ascending"?r.sort((o,i)=>o.firmName.localeCompare(i.firmName)):v==="descending"&&r.sort((o,i)=>i.firmName.localeCompare(o.firmName)),R(r)}).catch(t=>{console.log(t)}),m.get("https://constrobackend17-4.onrender.com/api/get_All_vendorBankReq").then(t=>{console.log(31,t.data.Result),S(t.data.Result)}).catch(t=>{console.log(t)})},[p]);const B=()=>{window.history.back()},y=()=>{P(!x)},F=t=>{A(t),y()},O=(t,r,o,i)=>{const C={providerId:t,ContractorPro_firmName:r,ContractorPro_firmRepresentative:o,ContractorPro_representativeDesignation:i,receiverId:n._id,clientRec_firmName:n.firmName,clientRec_firmRepresentative:n.firmRepresentative,clientRec_representativeDesignation:n.representativeDesignation,who_sendReq:"client_to_contractor"};console.log(C),m.post("https://constrobackend17-4.onrender.com/api/post_vendorBankReq",C).then(d=>{console.log(d.data),b(!p),k.success(d.data.message)}).catch(d=>{console.log(d)})},D=t=>_.some(o=>o.receiverId===(n==null?void 0:n._id)&&o.providerId===t&&o.isAccepted===!1&&o.isActive===!0),M=t=>{const r={receiverId:n._id,providerId:t};m.post("https://constrobackend17-4.onrender.com/api/cancelVendorBankRequest",r).then(o=>{console.log(o.data),b(!p),k.success(o.data.message)}).catch(o=>{console.log(o)})};return s("div",{children:[e(H,{title:"All Contractor Page "}),s("div",{className:"flex items-center text-slate-400 ",children:[s(g,{to:"",className:"flex items-center text-sm hover:underline hover:font-semibold hover:text-blue-400 cursor-pointer gap-1",onClick:B,children:[e(z,{className:"text-xl font-semibold"}),"Back"]}),e("span",{className:"mx-2",children:" / "}),s(g,{to:"/dashboard",className:"flex items-center text-sm  hover:underline hover:font-semibold hover:text-blue-400 cursor-pointer gap-1",children:[e($,{className:"text-lg font-semibold"}),"Home"]}),s("div",{className:"ml-auto relative flex items-center",children:[s("div",{className:"ml-4 relative",children:[e("div",{className:"absolute inset-y-0 left-0 pl-1 flex items-center pointer-events-none",children:e("svg",{className:"h-4 w-4 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e("path",{fillRule:"evenodd",d:"M13.442 14.858c1.288-1.195 2.042-2.843 2.042-4.599C15.484 6.241 12.243 3 8.242 3 4.242 3 1 6.241 1 10.259c0 4.019 3.242 7.26 7.242 7.26 1.498 0 2.895-.474 4.084-1.282l3.942 3.942c.195.195.451.293.707.293.244 0 .512-.097.707-.293a.999.999 0 000-1.414l-3.942-3.942zM8.242 15.259c-3.252 0-5.892-2.64-5.892-5.892 0-3.252 2.64-5.892 5.892-5.892 3.252 0 5.892 2.64 5.892 5.892 0 3.252-2.64 5.892-5.892 5.892z",clipRule:"evenodd"})})}),e("input",{type:"text",placeholder:"Search...",className:"pl-10 border border-gray-300 rounded-md py-2 px-4 text-sm focus:outline-none focus:border-blue-400 shadow-md"})]}),e("div",{className:"mx-3 ",children:s("button",{className:"gap-4 flex items-center text-sm hover:font-semibold hover:text-blue-400 cursor-pointer shadow-md px-4 py-2 ",onClick:y,children:[s("span",{className:"flex items-center gap-2",children:[e(J,{}),"Filters"]}),x?e(V,{className:"text-xl"}):e(G,{className:"text-xl"})]})}),x&&e("div",{className:"absolute right-0 w-[165px] rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5",style:{marginTop:"8rem"},children:s("div",{className:"py-1 text-center",children:[e("button",{className:"block px-4 py-2 text-sm text-gray-400 hover:bg-gray-50 hover:text-gray-900",onClick:()=>F("ascending"),children:"Sort ascending"}),e("button",{className:"block px-4 py-2 text-sm text-gray-400 hover:bg-gray-50 hover:text-gray-900",children:"Sort by time"})]})})]})]}),c.map(t=>e(u,{children:e("div",{class:" bg-white shadow rounded-lg w-full mt-3",children:s("div",{class:"latest_jobs flex flex-col md:flex-row items-center text-center md:text-left w-full md:w-auto hover:bg-black-50",children:[e("div",{class:" rounded-full md:mb-0 md:mr-4 p-2",children:e("img",{className:"h-[70px] w-[70px] rounded-full ",src:T,alt:""})}),s("div",{class:"flex-1 md:px-3 md:text-left",children:[e("h4",{className:"text-xl font-semibold text-color-white md:mt-0",children:t.firmName}),e("div",{class:" flex flex-col items-center md:flex-row md:items-center justify-center md:justify-start",children:s("span",{class:"card-subtitle text-slate-400 text-sm font-normal flex items-center md:mr-2",children:[e(L,{className:"text-2xl text-slate-500"}),s("span",{className:"text-lg",children:[" ","\xA0",t.firmRepresentative," |"," ",t.representativeDesignation]})]})})]}),e("div",{class:"flex justify-center mt-2",children:e(g,{to:`/viewProf/${t._id}`,class:"bg-[#00adee] hover:bg-[#6fcaeb] text-white font-bold px-3 py-2 rounded flex items-center",children:"View Profile"})}),e("div",{className:"flex justify-center mt-2 mx-3",children:D(t._id)?e(u,{children:e("button",{className:`text-white font-bold px-4 py-2 rounded flex items-center 
                    bg-danger`,onClick:r=>{M(t._id)},children:"Cancel"})}):e(u,{children:e("button",{className:`text-white font-bold px-4 py-2 rounded flex items-center 
                    bg-[#1fcfcd]`,onClick:r=>{O(t._id,t.firmName,t.firmRepresentative,t.representativeDesignation)},children:"+ Add"})})})]})})})),e("div",{className:"flex justify-center my-4",children:s("nav",{className:"relative z-0 inline-flex shadow-sm",children:[e("button",{onClick:()=>f(l-1),disabled:l===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-[#00adee] text-sm font-medium text-white ",children:"Previous"}),[...Array(N)].map((t,r)=>e("button",{onClick:()=>f(r+1),className:`-ml-px relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium ${l===r+1?"text-[#00adee]":"text-gray-400 hover:bg-gray-50"}`,children:r+1},r)),e("button",{onClick:()=>f(l+1),disabled:l===N,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-[#00adee] text-sm font-medium text-white",children:"Next"})]})})]})};export{re as default};
