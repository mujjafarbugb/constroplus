import{r as l,j as s,a as t,L as n,F as k}from"./index.5a85093a.js";import{H as E}from"./HomeBredCurbs.7c403a2d.js";import{I as T}from"./index.7a426a8b.js";import{M as j}from"./index.91645ed2.js";import{a as r}from"./axios.74c9240f.js";import"./index.esm.27038d76.js";import"./iconBase.ebd08f81.js";const q=()=>{l.exports.useState([]);const[p,B]=l.exports.useState(""),[x,h]=l.exports.useState([]),[u,g]=l.exports.useState([]),[c,f]=l.exports.useState([]),b=localStorage.getItem("user"),N=JSON.parse(b);console.log(31,N.user._id);const[A,v]=l.exports.useState([]),[y,S]=l.exports.useState([]),_=localStorage.getItem("profile"),C=JSON.parse(_),[F,D]=l.exports.useState();l.exports.useState(),l.exports.useState(!1);const[d,H]=l.exports.useState([]),[i,O]=l.exports.useState([]),R=()=>{window.history.back()};l.exports.useEffect(()=>{r.get(`https://constrobackend17-4.onrender.com/api/get_RegisteredClients/${C._id}`).then(e=>{console.log(23,e.data.Result),D(e.data.Result);const a=e.data.Result.map(I=>I.receiverId._id);h(a),m(a)}).catch(e=>{console.log(e)}),r.get("https://constrobackend17-4.onrender.com/api/get_all_expertise").then(e=>{f(e.data.Result)}).catch(e=>{console.log(e)}),r.get("https://constrobackend17-4.onrender.com/api/getAll_Cities_ddl").then(e=>{console.log(e.data.Result),S(e.data.Result)}).catch(e=>{console.log(e)})},[]);const w=e=>{const o=e.target.value,a=e.target.name;v(o),console.log("Selected Cities:",a),setData({...data,[a]:o})},m=e=>{const o={receiver:e||x};console.log(o),r.post(`https://constrobackend17-4.onrender.com/api/get_provider_tenders?city=${d}&expertise=${i}`,o).then(a=>{console.log("UserTender",a.data),g(a.data.Result)}).catch(a=>{console.log(a)})};return l.exports.useEffect(()=>{m()},[d,i]),s("div",{children:[t(E,{title:"Find EOI Page "}),s("div",{className:"flex items-center text-slate-400 ",children:[s(n,{to:"",className:"flex items-center text-sm hover:underline hover:font-semibold hover:text-blue-400 cursor-pointer gap-1",onClick:R,children:[t(T,{className:"text-xl font-semibold"}),"Back"]}),t("span",{className:"mx-2",children:" / "}),s(n,{to:"/ContractorDash",className:"flex items-center text-sm  hover:underline hover:font-semibold hover:text-blue-400 cursor-pointer gap-1",children:[t(j,{className:"text-lg font-semibold"}),"Home"]})]}),s("div",{className:" mt-3 row ",children:[t("div",{className:"col-lg-6 mb-3 mb-lg-0",children:s("select",{class:"form-select shadow-md p-3","aria-label":"Default select example",name:"scope",value:p,onChange:e=>console.log(133,e.target.value),children:[t("option",{selected:!0,children:"All Expertises"}),c==null?void 0:c.map(e=>t("option",{value:e._id,className:"text-sm",children:e.expertise},e._id))]})}),t("div",{className:"col-lg-6",children:s("select",{class:"form-select shadow-md p-3","aria-label":"Default select example",name:"city",value:A,onChange:e=>w(e),children:[t("option",{selected:!0,children:"All Cities"}),y.map(e=>t("option",{value:e._id,className:"text-sm",children:e.city},e._id))]})})]}),t("div",{className:"bg-white rounded-lg row mt-3",children:u.map(e=>t(k,{children:s("div",{className:"col-lg-6 shadow-sm mt-4 mb-2 mb-lg-0",children:[t("table",{className:"table-auto",children:s("tbody",{children:[s("tr",{children:[t("td",{className:"px-2 px-md-4 py-2 font-semibold",children:"Developer "}),s("td",{className:"px-2 px-md-4 py-2 font-normal",children:[":\xA0\xA0\xA0 ",e.developer.firmName]})]}),s("tr",{children:[t("td",{className:"px-2 px-md-4 py-2 font-semibold",children:"Scope "}),s("td",{className:"px-2 px-md-4 py-2  font-normal",children:[":\xA0\xA0\xA0",e.scope.expertise]})]}),s("tr",{children:[t("td",{className:"px-2 px-md-4 py-2 font-semibold",children:"Approximate EOI Value"}),s("td",{className:"px-2 px-md-4 py-2 font-normal",children:[":\xA0\xA0\xA0 \u20B9 ",e.maxContractValue]})]}),s("tr",{children:[t("td",{className:"px-2 px-md-4 py-2 font-semibold",children:"Start From"}),s("td",{className:"px-2 px-md-4 py-2 font-normal",children:[":\xA0\xA0\xA0 ",e.startDate]})]}),s("tr",{children:[t("td",{className:"px-2 px-md-4 py-2 font-semibold",children:"Last Date To Apply"}),s("td",{className:"px-2 px-md-4 py-2 font-normal",children:[":\xA0\xA0\xA0 ",e.lastDate]})]})]})}),t("hr",{className:"text-slate-400 m-3 "}),t("div",{className:"flex justify-end  ",children:t(n,{to:`/eoiViewDetails/${e._id}`,className:"bg-[#00adee] hover:bg-[#6fcaeb] text-white font-bold px-3 py-2 rounded flex items-center mb-2 md:mb-0 md:mr-2 md:mt-0",children:"View Profile"})})]})}))})]})};export{q as default};
